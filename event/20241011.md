# 走行会(1) 2024/10/11
- 参加者
  - オフライン: akamatsu, takomaron, kiws, yu, 432, tomo
  - オンライン: seigot, fujita

# 気づいたこと
- Discordの「事前練習・決勝大会」スレッドを使う
- 後で思い出した分はスレッドに追記
- スマホでのスレッド操作を共有

# 試走
## 速度パターン
- 15km/hでは走れた
- 本日の最速は20km/hだが壁に衝突
  - ステアリングパターンを変えた

## 衝突パターン
- 第1カーブでの衝突にも複数の衝突パターンがある

## 自己位置
- クラッシュした位置からスタートした方が、自己位置がずれてしまう
  - スタート地点に戻すと、ずれる
  - 長距離まっすぐ走ると、方角が正しくなる
- 自分の向きを設定する方法がわかれば、設定すればよい
  - トピックには向きが流れているが、基準が不明
  - Slackにノウハウが上がっていないか要確認
- 自己位置がずれたか、ログからは分からない?
  - 走行結果としてしか、分からない?
- モニターを見て、ズレているかが分った
  - ダッシュボードでずれている=GNSSがずれている?
  - 速度が低いと、ずれない
  - オフセットの量が、だんだん増えていった
  - 速度を下げると、戻る?
  - 速度を上げるとズレるのはiASLチームさんの経験と同じ?
    - スリップが影響?
- TPACの車両はダッシュボードに情報がちゃんと表示されていた
  - かなり前に準備してECUに接続していたので、ちゃんと表示された?
  - ダッシュボードの画面で、過去5分分の表示に設定して、負荷を下げた

# 現地
# 準備時間
- 10時集合->12時半出走でギリギリだった
  - アドバンストクラスで専用車両が割り当てられたのにも救われた
  - 事前に変えるパラメーターを決めていたのがよかった

## 環境
- sshが遅い
  - 原因は不明
    - 「会場ネットワークで大容量通信している人いますか?」と聞かれた
    - これが原因で最初のチームが走れなかったっぽい
  - スマホが会場ネットワークにつながらないようにしていたほうが安全かも
    - 一般利用者向け会場ネットワークは「office」でないはずなので大丈夫なはず?
- 現地ネットワーク
  - 車両用ネットワーク=会場ネットワーク=屋内外両方で使える
    - githubへのアクセスはできない
  - 汎用インターネット=本大会専用モバイルルーター=屋内で使える=外からのライブ配信中継に使えない
- オペレーション画面を録画しておきたい
  - zoomはネットワーク依存性もあるので、OBSでローカル録画してもよい
  - HDMIパススルーキャプチャしてもよい
- カメラはいくつあってもよい
  - スマホスタンドがあると便利そう
  - 観客として撮り続けてくれる人がいてもいいくらい
  - 本番時のライブ配信の練習もしたい
    - カメラを複数台つなぐ、など
  - ドローンを飛ばせるといいがハードルは高い
- 車両からrosbagを吸い出すために、~/aichallenge-2024を丸ごとtar.gz化してUSBメモリで吸い出した
  - .gitも入っているはずで、よい方法だった
    - いつのバージョンのものがつかわれていたのか、git logで確認できそう

## あってよかったもの/あったらよかったもの
- もっと広い机を使ったら複数ディスプレイが使えた
- オペレーションブースが使えなかったが、今回の場所のほうがまだ外が見える感じがしてよかった
  - 外の様子はなるべく見えたほうがよい
  - 外のSO(Safety Operator)とPC前で操作する人は別でも良いが、連絡手段が必要で、あってよかった
- ノートパソコンのWi-Fi通信が悪かった
  - takomaronさんのアンテナ付きUSB-Wi-Fiの通信は比較的よかった
- 集合写真を会場で撮っておけばよかった

## 車両
- 割り当てられたA1号車のみ、車両インターフェース接続時にデフォルトでブレーキがかかる仕様
  - ブレーキ解除は、tmuxの分割画面の右側で操作が必要(別途共有)

# 分析と今後の作戦
- オドメトリはエンコーダーから取っている?
  - スリップしている?
  - 速いとスリップする?
  - カーブでスリップする?
- 自車速度の値
  - 何から取っているかわからない
- EVカートは、人が乗っている重量前提のグリップ?
  - 重りを乗せたいくらい
  - 自分で乗った時は、30km/hくらいでドリフトの感覚
- 遠くを見るか近くを見るか
  - 速度に応じて変える?
- シミュレーターと実車で比較したい
  - 実車からaichallenge-2024を丸ごと引き抜いてきたの
- センシング情報のインプットとアウトプット
  - オドメトリを直接使うと、スリップする
  - ros2graphで分析してみる
  - 決勝用に追加されたcsvテーブルは何に使われているか?
- GNSS
  - 10Hz=0.1sec
  - ラグはある
- 決勝環境で何が変わったか、takomaronさん情報を元に復習必要
  - 運営の開発もギリギリなので、途中まで使っていたが最終的に使われていないものがあるかも
- rvizを見るのができなかった
  - ダッシュボード以外に判断する材料を作れる
  - rosbagから再生できそう
    - ros2 bag play + rviz
  - さらに遅くなるかも->実施しなかったからうまく動作した?
- ダッシュボード
  - 過去データをexportできる
  - 我々の走行はECU-RK-03

# 決勝への準備
- 決勝の日にプレゼンがあるので。準備が必要
  - 車を走らせる人と手分けが必要
  - アメリカから中継で発表?
    - 日曜の朝=西海岸の土曜日の夕方
- 決勝の参加者の明確化
- チームで一体感を出す
  - TPACシール

# ノウハウの共有
## 自動運転AIチャレンジコミュニティ
- 本体ECUのUSBは、バッテリーをどかしてPCの後ろ側のType-Aに刺せる
  - USBメモリを直接刺すゆとりはないので、延長ケーブルは必要
- 決勝後にLT会をする

## 技術チャレンジ部のYouTubeのアカウント
- YouTubeに動画をアップロードしたい
- 2要素認証が走らないように、動画をアップロードしたい人に管理者を付与する

# 大会外への今後の展開
## 実機環境
- タートルボットが使いこなせる人を募集中
- EVカートを車両試験場で走らせたい
  - TOM'Sの子供用EVカートで50万円
- お掃除ロボットや配送ロボットも自動運転に似た技術が応用されている
  - tomoの居室でも動いている
## 3Dプリンター
- 設置したが活用が進んでいないところがちらほら
  - 世の中のコラボスペースでも、コロナで人が離れてしまったところがありそう
- ソフト面(使うソフト、使い方講習など)の対応が必要そう
  - 3Dプリンターハッカソンで安全講習と体験を兼ねたイベントというアイデアが出た
    - 温泉合宿もあり
    - 所属組織での運動会が流行っている?
